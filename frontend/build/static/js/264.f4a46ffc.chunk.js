"use strict";(self.webpackChunktymout_frontend=self.webpackChunktymout_frontend||[]).push([[264],{332:(e,s,t)=>{t.d(s,{hi:()=>l,xc:()=>n});var r=t(5038),i=t(7109),a=t(6485);const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.I)((0,r.A)({queryKey:["profile"],queryFn:a.A.getProfile,staleTime:3e5,cacheTime:6e5},e))},l=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.I)((0,r.A)({queryKey:["profile",e],queryFn:()=>a.A.getProfileById(e),staleTime:3e5,cacheTime:6e5,enabled:!!e},s))}},1506:(e,s,t)=>{t.d(s,{T:()=>a});var r=t(7109),i=t(2768);const a=e=>(0,r.I)({queryKey:["userHostedEvents",e],queryFn:async()=>{try{const s="http://localhost:3002";return(await i.A.get("".concat(s,"/events/host/").concat(e))).data.data||[]}catch(s){throw s}},enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1})},6264:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var r=t(5038),i=(t(9643),t(7192)),a=t(332),n=t(2345),l=t(1506),d=t(6507);const o=e=>{let{bio:s,location:t}=e;return(0,d.jsxs)("dl",{className:"divide-y divide-gray-200",children:[(0,d.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Location"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:t||"Not specified"})]}),(0,d.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Bio"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",style:{whiteSpace:"pre-wrap"},children:s||"No bio added yet"})]})]})},c=e=>{let{interests:s=[]}=e;return(0,d.jsxs)("div",{className:"py-4 sm:py-5 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-2",children:"Interests"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:0===s.length?(0,d.jsx)("p",{className:"text-gray-500 italic",children:"No interests added yet"}):(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:s.map(((e,s)=>(0,d.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:e},s)))})})]})},m=e=>{let{completeness:s=0}=e;return(0,d.jsx)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6",children:(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,d.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Profile Completeness"}),(0,d.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[s,"%"]})]}),(0,d.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,d.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:"".concat(s,"%")}})}),s<100&&(0,d.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Complete your profile to get more matches!"})]})})},x=e=>{let{verified:s={}}=e;return(0,d.jsxs)("div",{className:"py-4 sm:py-5 sm:px-6",children:[(0,d.jsx)("dt",{className:"text-sm font-medium text-gray-500 mb-2",children:"Verification"}),(0,d.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(0,d.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-2 h-5 w-5 flex items-center justify-center rounded-full ".concat(s.email?"bg-green-100":"bg-gray-100"),children:s.email?(0,d.jsx)("svg",{className:"h-3.5 w-3.5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,d.jsx)("svg",{className:"h-3.5 w-3.5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,d.jsxs)("span",{className:"".concat(s.email?"text-green-700":"text-gray-500"),children:["Email ",s.email?"Verified":"Not Verified"]})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("span",{className:"mr-2 h-5 w-5 flex items-center justify-center rounded-full ".concat(s.phone?"bg-green-100":"bg-gray-100"),children:s.phone?(0,d.jsx)("svg",{className:"h-3.5 w-3.5 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,d.jsx)("svg",{className:"h-3.5 w-3.5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,d.jsxs)("span",{className:"".concat(s.phone?"text-green-700":"text-gray-500"),children:["Phone ",s.phone?"Verified":"Not Verified"]})]})]})})]})},h=e=>{let{avatar:s,name:t,email:r,profileImage:i}=e;return(0,d.jsxs)("div",{className:"flex items-center py-4 sm:py-5 sm:px-6 border-b border-gray-200",children:[(0,d.jsxs)("div",{className:"relative mr-4",children:[i?(0,d.jsx)("img",{src:i,alt:"".concat(t,"'s profile"),className:"h-16 w-16 rounded-full object-cover border-2 border-white shadow-sm"}):s?(0,d.jsx)("img",{src:s,alt:"".concat(t,"'s profile"),className:"h-16 w-16 rounded-full object-cover border-2 border-white shadow-sm"}):(0,d.jsx)("div",{className:"h-16 w-16 rounded-full flex items-center justify-center bg-indigo-100 text-indigo-800 text-xl font-bold border-2 border-white shadow-sm",children:(e=>{if(!e)return"?";const s=e.split(" ");return s.length>=2?"".concat(s[0].charAt(0)).concat(s[s.length-1].charAt(0)).toUpperCase():e.charAt(0).toUpperCase()})(t)}),(0,d.jsx)("div",{className:"absolute bottom-0 right-0 h-4 w-4 bg-green-500 rounded-full border-2 border-white"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"text-lg font-bold text-gray-900",children:t||"User"}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:r})]})]})};var g=t(3018),u=t(8006),p=t(2218);const f=()=>{const{data:e,isLoading:s,error:t,refetch:f}=(0,a.xc)(),{mutate:j}=(0,n.Wn)(),y=(0,i.Zp)(),{data:v=[],isLoading:N,error:b}=(0,l.T)(null===e||void 0===e?void 0:e._id);if(s)return(0,d.jsx)(g.A,{type:"mainProfile"});if(t)return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-white",children:(0,d.jsxs)("div",{className:"p-8 bg-white shadow-md rounded-lg",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center text-red-500",children:t.message||"Error loading profile"}),(0,d.jsx)("div",{className:"flex justify-center mt-4",children:(0,d.jsx)("button",{onClick:()=>f(),className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Try Again"})})]})});return(0,d.jsx)("div",{className:"min-h-screen bg-white",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:(0,d.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:e&&(0,d.jsxs)("div",{className:"px-6 py-6",children:[(0,d.jsx)(h,{avatar:e.avatar,name:e.name,email:e.email,profileImage:e.profileImage}),(0,d.jsx)(m,{completeness:e.completeness}),(0,d.jsx)(o,{name:e.name,email:e.email,bio:e.bio,location:e.location}),(0,d.jsx)(x,{verified:e.verified}),(0,d.jsx)(c,{interests:e.interests}),(0,d.jsxs)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[(0,d.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Events Hosted"}),N?(0,d.jsxs)("div",{className:"animate-pulse space-y-4 py-1",children:[(0,d.jsx)("div",{className:"h-40 bg-gray-200 rounded w-full"}),(0,d.jsx)("div",{className:"h-40 bg-gray-200 rounded w-full"})]}):b?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(p.bfZ,{className:"mx-auto text-gray-300 text-4xl mb-3"}),(0,d.jsx)("p",{children:"Error loading events"})]}):0===v.length?(0,d.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,d.jsx)(p.bfZ,{className:"mx-auto text-gray-300 text-4xl mb-3"}),(0,d.jsx)("p",{children:"No events hosted yet"})]}):(0,d.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map((e=>{const s=e.date&&e.date.start?new Date(e.date.start).toLocaleDateString():"Date not specified";return(0,d.jsx)("div",{className:"overflow-hidden",children:(0,d.jsx)(u.A,{item:(0,r.A)((0,r.A)({},e),{},{id:e._id||e.id,date:s}),type:"event",source:"profile",fullWidth:!0,variant:"explore",hideHeader:!0,disableNavigation:!0})},e._id||e.id)}))})]}),(0,d.jsx)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:(0,d.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,d.jsx)("button",{onClick:()=>window.location.href="/settings",className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Edit Profile"}),(0,d.jsx)("button",{onClick:()=>{window.confirm("Are you sure you want to sign out?")&&(j(),y("/"))},className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign Out"})]})})]})})})})}}}]);
//# sourceMappingURL=264.f4a46ffc.chunk.js.map