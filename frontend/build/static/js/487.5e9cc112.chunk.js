"use strict";(self.webpackChunktymout_frontend=self.webpackChunktymout_frontend||[]).push([[487],{1487:(e,s,t)=>{t.r(s),t.d(s,{default:()=>f});var i=t(9643),n=t(5432),a=t(5038),o=t(8894),r=t(7027);const l=t(2768).A.create({baseURL:"http://localhost:3001",timeout:1e4,headers:{"Content-Type":"application/json"}});l.interceptors.request.use((e=>{const s=localStorage.getItem("auth-storage");let t=null;if(s)try{var i;t=null===(i=JSON.parse(s).state)||void 0===i?void 0:i.token}catch(n){}return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e)));const d={updateProfileSettings:async e=>{try{const t=await l.put("/user/profile",e);try{const s=JSON.parse(localStorage.getItem("user-data")||"{}"),t=(0,a.A)((0,a.A)({},s),e);localStorage.setItem("user-data",JSON.stringify(t))}catch(s){}return t.data.data||t.data}catch(t){throw t}},updateAccountSettings:async e=>{try{const s=await l.put("/user/account",e);return s.data.data||s.data}catch(s){throw s}},updatePrivacySettings:async e=>{try{const s=await l.put("/user/preferences",e);return s.data.data||s.data}catch(s){throw s}},updateNotificationSettings:async e=>{try{const s=await l.put("/user/preferences",e);return s.data.data||s.data}catch(s){throw s}},uploadProfileImage:async e=>{try{const s=new FormData;s.append("profileImage",e,e.name);const t={headers:{},timeout:3e4};return(await l.post("/user/profile/image",s,t)).data.data}catch(s){throw s}}};var c=t(6507);const m=["Agra","Gurugram"],u=e=>{let{user:s}=e;const[t,n]=(0,i.useState)({name:"",bio:"",location:"",interests:[],profileImage:""}),[l,u]=(0,i.useState)(["hiking","photography","cooking","reading","travel","music","movies","art","sports","technology","gaming","fitness","yoga","meditation","dancing","writing","fashion","food"]),[x,g]=(0,i.useState)(""),[p,f]=(0,i.useState)(""),h=(()=>{const e=(0,o.jE)();return(0,r.n)({mutationFn:e=>d.updateProfileSettings(e),onSuccess:s=>{e.setQueryData(["profile"],(e=>e?(0,a.A)((0,a.A)({},e),s):e)),e.invalidateQueries({queryKey:["profile"]})}})})(),b=(()=>{const e=(0,o.jE)();return(0,r.n)({mutationFn:e=>d.uploadProfileImage(e),onSuccess:s=>{e.setQueryData(["profile"],(e=>e?(0,a.A)((0,a.A)({},e),{},{profileImage:s.profileImage}):e)),e.setQueryData(["user"],(e=>e?(0,a.A)((0,a.A)({},e),{},{profileImage:s.profileImage}):e)),e.invalidateQueries({queryKey:["profile"]}),e.invalidateQueries({queryKey:["user"]})}})})();(0,i.useEffect)((()=>{s&&n({name:s.name||"",bio:s.bio||"",location:s.location||"",interests:s.interests||[],profileImage:s.profileImage||""})}),[s]);const v=e=>{const{name:s,value:t,type:i}=e.target;if("file"===i){const s=e.target.files[0];s&&y(s)}else n((e=>(0,a.A)((0,a.A)({},e),{},{[s]:t})))},y=e=>{const t=URL.createObjectURL(e);n((e=>(0,a.A)((0,a.A)({},e),{},{profileImage:t}))),b.mutate(e,{onSuccess:e=>{n((s=>(0,a.A)((0,a.A)({},s),{},{profileImage:e.profileImage}))),f("Profile image uploaded successfully!"),setTimeout((()=>f("")),3e3)},onError:e=>{n((e=>(0,a.A)((0,a.A)({},e),{},{profileImage:(null===s||void 0===s?void 0:s.profileImage)||""})))}})};return(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const s={name:t.name,bio:t.bio,location:t.location,interests:t.interests};h.mutate(s,{onSuccess:e=>{f("Profile updated successfully!"),setTimeout((()=>f("")),3e3)},onError:e=>{f("Error: ".concat(e.message||"Failed to update profile")),setTimeout((()=>f("")),5e3)}})},className:"overflow-x-hidden",children:[p&&(0,c.jsx)("div",{className:"mb-4 p-2 bg-green-100 text-green-700 rounded",children:p}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Image"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Upload a profile picture to personalize your account."}),(0,c.jsxs)("div",{className:"mt-4 flex items-center space-x-4",children:[(0,c.jsx)("div",{className:"relative",children:t.profileImage?(0,c.jsxs)("div",{className:"relative",children:[(0,c.jsx)("img",{src:t.profileImage,alt:"Profile preview",className:"h-24 w-24 rounded-full object-cover border-2 border-gray-200"}),b.isPending&&(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-40 rounded-full",children:(0,c.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}):(0,c.jsx)("div",{className:"h-24 w-24 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-800 text-xl font-bold border-2 border-gray-200",children:t.name?t.name.charAt(0).toUpperCase():"U"})}),(0,c.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,c.jsxs)("label",{htmlFor:"profile-image",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white ".concat(b.isPending?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 cursor-pointer"," focus:outline-none"),children:[b.isPending?"Uploading...":"Upload Image",(0,c.jsx)("input",{id:"profile-image",name:"profileImage",type:"file",accept:"image/*",onChange:v,disabled:b.isPending,className:"sr-only"})]}),t.profileImage&&(0,c.jsx)("button",{type:"button",onClick:()=>n((e=>(0,a.A)((0,a.A)({},e),{},{profileImage:""}))),className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none",children:"Remove"}),(0,c.jsx)("p",{className:"text-xs text-gray-500",children:"JPG, PNG or GIF. Max size 2MB."})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Personal Information"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update your basic profile information."}),(0,c.jsxs)("div",{className:"mt-6 grid grid-cols-1 gap-y-6 gap-x-2 sm:gap-x-4 sm:grid-cols-6",children:[(0,c.jsxs)("div",{className:"col-span-1 sm:col-span-4",children:[(0,c.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full name"}),(0,c.jsx)("div",{className:"mt-1",children:(0,c.jsx)("input",{type:"text",name:"name",id:"name",value:t.name,onChange:v,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"})})]}),(0,c.jsxs)("div",{className:"col-span-1 sm:col-span-6",children:[(0,c.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700",children:"Bio"}),(0,c.jsx)("div",{className:"mt-1",children:(0,c.jsx)("textarea",{id:"bio",name:"bio",rows:3,value:t.bio,onChange:v,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Tell us about yourself"})}),(0,c.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Brief description for your profile."})]}),(0,c.jsxs)("div",{className:"col-span-1 sm:col-span-4",children:[(0,c.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"City"}),(0,c.jsx)("div",{className:"mt-1",children:(0,c.jsxs)("select",{name:"location",id:"location",value:t.location,onChange:v,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[(0,c.jsx)("option",{value:"",disabled:!0,children:"Select your city"}),m.map((e=>(0,c.jsx)("option",{value:e,children:e},e)))]})}),(0,c.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Your current city helps us show relevant events."})]})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Interests"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Select interests to help us find matches for you."}),(0,c.jsxs)("div",{className:"mt-2 max-w-full overflow-hidden",children:[(0,c.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:t.interests.map(((e,s)=>(0,c.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:[e,(0,c.jsx)("button",{type:"button",onClick:()=>(e=>{n((s=>(0,a.A)((0,a.A)({},s),{},{interests:s.interests.filter((s=>s!==e))})))})(e),className:"ml-1.5 h-4 w-4 rounded-full flex items-center justify-center text-indigo-400 hover:bg-indigo-200 hover:text-indigo-500 focus:outline-none",children:(0,c.jsx)("svg",{className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},s)))}),(0,c.jsxs)("div",{className:"flex flex-col sm:flex-row",children:[(0,c.jsx)("div",{className:"flex-grow mb-2 sm:mb-0",children:(0,c.jsxs)("select",{value:x,onChange:e=>g(e.target.value),className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",children:[(0,c.jsx)("option",{value:"",children:"Select an interest"}),l.filter((e=>!t.interests.includes(e))).map(((e,s)=>(0,c.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},s)))]})}),(0,c.jsx)("button",{type:"button",onClick:()=>{x&&!t.interests.includes(x)&&(n((e=>(0,a.A)((0,a.A)({},e),{},{interests:[...e.interests,x]}))),g(""))},className:"sm:ml-2 inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Add"})]})]})]})]}),(0,c.jsx)("div",{className:"pt-5",children:(0,c.jsxs)("div",{className:"flex justify-end",children:[(0,c.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,c.jsx)("button",{type:"submit",disabled:h.isPending,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white \n              ".concat(h.isPending?"bg-indigo-400":"bg-indigo-600 hover:bg-indigo-700"," \n              focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),children:h.isPending?"Saving...":"Save"})]})})]})},x=e=>{let{user:s}=e;const[t,n]=(0,i.useState)({email:(null===s||void 0===s?void 0:s.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[o,r]=(0,i.useState)(!1),[l,d]=(0,i.useState)(""),[m,u]=(0,i.useState)({}),x=e=>{const{name:s,value:t}=e.target;n((e=>(0,a.A)((0,a.A)({},e),{},{[s]:t}))),m[s]&&u((e=>(0,a.A)((0,a.A)({},e),{},{[s]:null})))},g=()=>{const e={};return t.email&&!/\S+@\S+\.\S+/.test(t.email)&&(e.email="Please enter a valid email address"),t.newPassword&&(t.newPassword.length<8&&(e.newPassword="Password must be at least 8 characters"),t.newPassword!==t.confirmPassword&&(e.confirmPassword="Passwords do not match"),t.currentPassword||(e.currentPassword="Current password is required")),u(e),0===Object.keys(e).length};return(0,c.jsxs)("div",{className:"space-y-8",children:[l&&(0,c.jsx)("div",{className:"p-2 bg-green-100 text-green-700 rounded",children:l}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Email Address"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update your email address."}),(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g()){r(!0);try{await new Promise((e=>setTimeout(e,1e3))),d("Email updated successfully!"),setTimeout((()=>d("")),3e3)}catch(s){}finally{r(!1)}}},className:"mt-5 sm:flex sm:items-center",children:[(0,c.jsxs)("div",{className:"w-full sm:max-w-xs",children:[(0,c.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,c.jsx)("input",{type:"email",name:"email",id:"email",value:t.email,onChange:x,className:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md ".concat(m.email?"border-red-300":""),placeholder:"you@example.com"}),m.email&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),(0,c.jsx)("button",{type:"submit",disabled:o||!t.email,className:"mt-3 w-full inline-flex items-center justify-center px-4 py-2 border border-transparent shadow-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",children:o?"Updating...":"Update Email"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Password"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Update your password."}),(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g()){r(!0);try{await new Promise((e=>setTimeout(e,1e3))),n((e=>(0,a.A)((0,a.A)({},e),{},{currentPassword:"",newPassword:"",confirmPassword:""}))),d("Password updated successfully!"),setTimeout((()=>d("")),3e3)}catch(s){}finally{r(!1)}}},className:"mt-5 space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700",children:"Current Password"}),(0,c.jsx)("input",{type:"password",name:"currentPassword",id:"currentPassword",value:t.currentPassword,onChange:x,className:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md ".concat(m.currentPassword?"border-red-300":"")}),m.currentPassword&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.currentPassword})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,c.jsx)("input",{type:"password",name:"newPassword",id:"newPassword",value:t.newPassword,onChange:x,className:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md ".concat(m.newPassword?"border-red-300":"")}),m.newPassword&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.newPassword})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),(0,c.jsx)("input",{type:"password",name:"confirmPassword",id:"confirmPassword",value:t.confirmPassword,onChange:x,className:"mt-1 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md ".concat(m.confirmPassword?"border-red-300":"")}),m.confirmPassword&&(0,c.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),(0,c.jsx)("div",{className:"flex justify-end",children:(0,c.jsx)("button",{type:"submit",disabled:o||!t.newPassword,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:o?"Updating...":"Update Password"})})]})]})]})},g=e=>{var s,t,n,o;let{user:r}=e;const[l,d]=(0,i.useState)({profileVisibility:(null===r||void 0===r||null===(s=r.privacy)||void 0===s?void 0:s.profileVisibility)||"public",rsvpVisibility:(null===r||void 0===r||null===(t=r.privacy)||void 0===t?void 0:t.rsvpVisibility)||"friends",locationSharing:(null===r||void 0===r||null===(n=r.privacy)||void 0===n?void 0:n.locationSharing)||!1,activityStatus:(null===r||void 0===r||null===(o=r.privacy)||void 0===o?void 0:o.activityStatus)||!0}),[m,u]=(0,i.useState)(!1),[x,g]=(0,i.useState)(""),p=e=>{const{name:s,value:t}=e.target;d((e=>(0,a.A)((0,a.A)({},e),{},{[s]:t})))},f=e=>{d((s=>(0,a.A)((0,a.A)({},s),{},{[e]:!s[e]})))},h=e=>{let{enabled:s,onChange:t,label:i,description:n}=e;return(0,c.jsxs)("div",{className:"flex items-start",children:[(0,c.jsx)("div",{className:"flex items-center h-5",children:(0,c.jsx)("button",{type:"button",className:"".concat(s?"bg-indigo-600":"bg-gray-200"," relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),role:"switch","aria-checked":s,onClick:t,children:(0,c.jsx)("span",{"aria-hidden":"true",className:"".concat(s?"translate-x-5":"translate-x-0"," pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200")})})}),(0,c.jsxs)("div",{className:"ml-3 text-sm",children:[(0,c.jsx)("label",{className:"font-medium text-gray-700",children:i}),n&&(0,c.jsx)("p",{className:"text-gray-500",children:n})]})]})},b=e=>{let{name:s,value:t,onChange:i,options:n,label:a,description:o}=e;return(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"text-base font-medium text-gray-700",children:a}),o&&(0,c.jsx)("p",{className:"text-sm text-gray-500",children:o}),(0,c.jsxs)("fieldset",{className:"mt-4",children:[(0,c.jsx)("legend",{className:"sr-only",children:a}),(0,c.jsx)("div",{className:"space-y-4",children:n.map((e=>(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("input",{id:"".concat(s,"-").concat(e.value),name:s,type:"radio",value:e.value,checked:t===e.value,onChange:i,className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),(0,c.jsx)("label",{htmlFor:"".concat(s,"-").concat(e.value),className:"ml-3 block text-sm font-medium text-gray-700",children:e.label})]},e.value)))})]})]})};return(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0);try{await new Promise((e=>setTimeout(e,1e3))),g("Privacy settings updated successfully!"),setTimeout((()=>g("")),3e3)}catch(s){}finally{u(!1)}},className:"space-y-8",children:[x&&(0,c.jsx)("div",{className:"p-2 bg-green-100 text-green-700 rounded",children:x}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Privacy Settings"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Control who can see your information and activities."})]}),(0,c.jsx)(b,{name:"profileVisibility",value:l.profileVisibility,onChange:p,label:"Profile Visibility",description:"Control who can view your profile",options:[{value:"public",label:"Public - Anyone can view your profile"},{value:"friends",label:"Friends Only - Only people you connect with can view your profile"},{value:"private",label:"Private - Your profile is hidden from everyone"}]}),(0,c.jsx)(b,{name:"rsvpVisibility",value:l.rsvpVisibility,onChange:p,label:"RSVP Visibility",description:"Control who can see your event RSVPs",options:[{value:"public",label:"Public - Anyone can see which events you're attending"},{value:"friends",label:"Friends Only - Only people you connect with can see your RSVPs"},{value:"private",label:"Private - Keep your RSVPs private"}]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)(h,{enabled:l.locationSharing,onChange:()=>f("locationSharing"),label:"Location Sharing",description:"Allow the app to use your location to find nearby events and people"}),(0,c.jsx)(h,{enabled:l.activityStatus,onChange:()=>f("activityStatus"),label:"Activity Status",description:"Show others when you're active on the platform"})]}),(0,c.jsx)("div",{className:"pt-5",children:(0,c.jsxs)("div",{className:"flex justify-end",children:[(0,c.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,c.jsx)("button",{type:"submit",disabled:m,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:m?"Saving...":"Save"})]})})]})},p=e=>{var s,t,n,o,r,l,d,m,u,x,g,p,f,h,b,v,y,w,j,N;let{user:P}=e;const[A,S]=(0,i.useState)({email:{newMatches:(null===P||void 0===P||null===(s=P.notifications)||void 0===s||null===(t=s.email)||void 0===t?void 0:t.newMatches)||!0,messages:(null===P||void 0===P||null===(n=P.notifications)||void 0===n||null===(o=n.email)||void 0===o?void 0:o.messages)||!0,eventReminders:(null===P||void 0===P||null===(r=P.notifications)||void 0===r||null===(l=r.email)||void 0===l?void 0:l.eventReminders)||!0,eventUpdates:(null===P||void 0===P||null===(d=P.notifications)||void 0===d||null===(m=d.email)||void 0===m?void 0:m.eventUpdates)||!1,weeklyDigest:(null===P||void 0===P||null===(u=P.notifications)||void 0===u||null===(x=u.email)||void 0===x?void 0:x.weeklyDigest)||!1},inApp:{newMatches:(null===P||void 0===P||null===(g=P.notifications)||void 0===g||null===(p=g.inApp)||void 0===p?void 0:p.newMatches)||!0,messages:(null===P||void 0===P||null===(f=P.notifications)||void 0===f||null===(h=f.inApp)||void 0===h?void 0:h.messages)||!0,eventReminders:(null===P||void 0===P||null===(b=P.notifications)||void 0===b||null===(v=b.inApp)||void 0===v?void 0:v.eventReminders)||!0,eventUpdates:(null===P||void 0===P||null===(y=P.notifications)||void 0===y||null===(w=y.inApp)||void 0===w?void 0:w.eventUpdates)||!0,connectionRequests:(null===P||void 0===P||null===(j=P.notifications)||void 0===j||null===(N=j.inApp)||void 0===N?void 0:N.connectionRequests)||!0}}),[C,k]=(0,i.useState)(!1),[I,U]=(0,i.useState)(""),R=(e,s)=>{S((t=>(0,a.A)((0,a.A)({},t),{},{[e]:(0,a.A)((0,a.A)({},t[e]),{},{[s]:!t[e][s]})})))},M=e=>{let{enabled:s,onChange:t,label:i}=e;return(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("span",{className:"flex-grow flex flex-col",children:(0,c.jsx)("span",{className:"text-sm font-medium text-gray-900",children:i})}),(0,c.jsxs)("button",{type:"button",className:"".concat(s?"bg-indigo-600":"bg-gray-200"," relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"),role:"switch","aria-checked":s,onClick:t,children:[(0,c.jsxs)("span",{className:"sr-only",children:["Toggle ",i]}),(0,c.jsx)("span",{"aria-hidden":"true",className:"".concat(s?"translate-x-5":"translate-x-0"," pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200")})]})]})};return(0,c.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),k(!0);try{await new Promise((e=>setTimeout(e,1e3))),U("Notification preferences updated successfully!"),setTimeout((()=>U("")),3e3)}catch(s){}finally{k(!1)}},className:"space-y-8",children:[I&&(0,c.jsx)("div",{className:"p-2 bg-green-100 text-green-700 rounded",children:I}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Notification Preferences"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage how you receive notifications from Tymout."})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-base font-medium text-gray-900",children:"Email Notifications"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Notifications sent to your email address."}),(0,c.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,c.jsx)(M,{enabled:A.email.newMatches,onChange:()=>R("email","newMatches"),label:"New Matches"}),(0,c.jsx)(M,{enabled:A.email.messages,onChange:()=>R("email","messages"),label:"New Messages"}),(0,c.jsx)(M,{enabled:A.email.eventReminders,onChange:()=>R("email","eventReminders"),label:"Event Reminders"}),(0,c.jsx)(M,{enabled:A.email.eventUpdates,onChange:()=>R("email","eventUpdates"),label:"Event Updates"}),(0,c.jsx)(M,{enabled:A.email.weeklyDigest,onChange:()=>R("email","weeklyDigest"),label:"Weekly Digest"})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-base font-medium text-gray-900",children:"In-App Notifications"}),(0,c.jsx)("p",{className:"text-sm text-gray-500",children:"Notifications shown within the Tymout application."}),(0,c.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,c.jsx)(M,{enabled:A.inApp.newMatches,onChange:()=>R("inApp","newMatches"),label:"New Matches"}),(0,c.jsx)(M,{enabled:A.inApp.messages,onChange:()=>R("inApp","messages"),label:"New Messages"}),(0,c.jsx)(M,{enabled:A.inApp.eventReminders,onChange:()=>R("inApp","eventReminders"),label:"Event Reminders"}),(0,c.jsx)(M,{enabled:A.inApp.eventUpdates,onChange:()=>R("inApp","eventUpdates"),label:"Event Updates"}),(0,c.jsx)(M,{enabled:A.inApp.connectionRequests,onChange:()=>R("inApp","connectionRequests"),label:"Connection Requests"})]})]}),(0,c.jsx)("div",{className:"pt-5",children:(0,c.jsxs)("div",{className:"flex justify-end",children:[(0,c.jsx)("button",{type:"button",className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,c.jsx)("button",{type:"submit",disabled:C,className:"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:C?"Saving...":"Save"})]})})]})},f=()=>{const e=(0,n.n)((e=>e.user)),[s,t]=(0,i.useState)("profile");return(0,c.jsx)("div",{className:"min-h-screen bg-white overflow-x-hidden",children:(0,c.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-2 sm:px-6 lg:px-8",children:(0,c.jsx)("div",{className:"px-2 py-6 sm:px-0",children:(0,c.jsxs)("div",{className:"bg-white shadow sm:rounded-lg",children:[(0,c.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,c.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Settings"}),(0,c.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your profile and account preferences"})]}),(0,c.jsxs)("div",{className:"border-t border-gray-200",children:[(0,c.jsx)("div",{className:"flex flex-wrap border-b",children:[{id:"profile",label:"Profile"},{id:"account",label:"Account"},{id:"privacy",label:"Privacy"},{id:"notifications",label:"Notifications"}].map((e=>(0,c.jsx)("button",{className:"px-3 py-3 sm:px-4 sm:py-4 text-xs sm:text-sm font-medium whitespace-nowrap ".concat(s===e.id?"border-b-2 border-indigo-500 text-indigo-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),onClick:()=>t(e.id),children:e.label},e.id)))}),(0,c.jsx)("div",{className:"p-2 sm:p-4",children:(()=>{switch(s){case"profile":default:return(0,c.jsx)(u,{user:e});case"account":return(0,c.jsx)(x,{user:e});case"privacy":return(0,c.jsx)(g,{user:e});case"notifications":return(0,c.jsx)(p,{user:e})}})()})]})]})})})})}}}]);
//# sourceMappingURL=487.5e9cc112.chunk.js.map