{"version":3,"file":"static/js/141.a9257c16.chunk.js","mappings":"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","sources":["pages/LoginPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\r\nimport { useAuthStore } from '../stores/authStore';\r\nimport { useOAuthVerification } from '../hooks/queries/useAuthQueries';\r\nimport { toast } from 'react-toastify';\r\n\r\n// Following Single Responsibility Principle - this component only handles login UI\r\nconst LoginPage = () => {\r\n  const { isAuthenticated, handleOAuthVerification } = useAuthStore();\r\n  const oauthMutation = useOAuthVerification();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const [message, setMessage] = useState('');\r\n\r\n  // Check for token in URL (from Google OAuth callback)\r\n  useEffect(() => {\r\n    const query = new URLSearchParams(location.search);\r\n    const token = query.get('token');\r\n    \r\n    if (token) {\r\n      // Use the mutation for OAuth verification\r\n      oauthMutation.mutate(token, {\r\n        onSuccess: (userData) => {\r\n          // Update the auth store with the user data\r\n          handleOAuthVerification(token);\r\n          toast.success('Successfully logged in!');\r\n          navigate('/');\r\n        },\r\n        onError: (error) => {\r\n          toast.error(`Authentication failed: ${error.message}`);\r\n          navigate('/login');\r\n        }\r\n      });\r\n    }\r\n  }, [location, oauthMutation, handleOAuthVerification, navigate]);\r\n\r\n  // Check for message in location state\r\n  useEffect(() => {\r\n    if (location.state?.message) {\r\n      setMessage(location.state.message);\r\n    }\r\n  }, [location.state]);\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      // Check if there's a redirect destination in the state\r\n      const from = location.state?.from?.pathname || '/';\r\n      navigate(from);\r\n    }\r\n  }, [isAuthenticated, navigate, location]);\r\n\r\n  // Handle Google login\r\n  const handleGoogleLogin = () => {\r\n    window.location.href = `${process.env.REACT_APP_API_GATEWAY_URL || 'http://localhost:3000'}/api/users/auth/google`;\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\r\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">  \r\n        {/* Content container */}\r\n        <div className=\"pt-6\">  \r\n          {/* Vibrant heading with Tymout in purple */}\r\n          <h2 className=\"text-center text-3xl font-black tracking-tight leading-tight mb-5\">\r\n            Welcome to the <br/><span className=\"text-indigo-600\" style={{color: '#4f46e5', fontSize: '110%'}}>Tymout</span> Community!\r\n          </h2>\r\n          \r\n          {/* Single feature bubble */}\r\n          <div className=\"mt-6\">\r\n            <div className=\"p-4 bg-white rounded-2xl shadow-sm border border-indigo-100\">\r\n              <div className=\"space-y-3\">\r\n                <div className=\"flex items-center\">\r\n                  <span className=\"text-xl mr-3\">üåü</span>\r\n                  <p className=\"font-medium text-gray-800 text-sm\">Connect with like‚Äëminded people</p>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center\">\r\n                  <span className=\"text-xl mr-3\">üó∫Ô∏è</span>\r\n                  <p className=\"font-medium text-gray-800 text-sm\">Explore experiences crafted by locals</p>\r\n                </div>\r\n                \r\n                <div className=\"flex items-center\">\r\n                  <span className=\"text-xl mr-3\">‚ù§Ô∏è</span>\r\n                  <p className=\"font-medium text-gray-800 text-sm\">Discover your city like never before‚Äîyour city has come to life!</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\r\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\r\n          <div className=\"space-y-4\">\r\n            {/* Call to action message */}\r\n            <div className=\"text-center mb-1\">\r\n              <p className=\"text-lg font-bold\" style={{color: '#4f46e5'}}>Join Your First Table!</p>\r\n            </div>\r\n            \r\n            {/* Google Sign In Button */}\r\n            <div>\r\n              <button\r\n                onClick={handleGoogleLogin}\r\n                disabled={oauthMutation.isPending}\r\n                className={`w-full flex justify-center py-3 px-4 border border-gray-300 rounded-md shadow-sm text-base font-bold text-gray-700 bg-white hover:bg-gray-50 ${\r\n                  oauthMutation.isPending\r\n                    ? 'cursor-not-allowed opacity-70'\r\n                    : 'focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500'\r\n                }`}\r\n              >\r\n                <svg className=\"h-5 w-5 mr-2\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <g transform=\"matrix(1, 0, 0, 1, 27.009001, -39.238998)\">\r\n                    <path fill=\"#4285F4\" d=\"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z\" />\r\n                    <path fill=\"#34A853\" d=\"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z\" />\r\n                    <path fill=\"#FBBC05\" d=\"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z\" />\r\n                    <path fill=\"#EA4335\" d=\"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z\" />\r\n                  </g>\r\n                </svg>\r\n                {oauthMutation.isPending ? 'Signing in...' : 'Sign in with Google'}\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"mt-6\">\r\n              <div className=\"relative\">\r\n                <div className=\"absolute inset-0 flex items-center\">\r\n                  <div className=\"w-full border-t border-gray-300\" />\r\n                </div>\r\n                <div className=\"relative flex justify-center text-sm\">\r\n                  <span className=\"px-2 bg-white text-gray-500\">\r\n                    Or continue with\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Email/Password Login Form - Placeholder for future implementation */}\r\n              <div className=\"mt-6\">\r\n                <p className=\"text-center text-sm text-gray-600\">\r\n                  Don't have an account?{' '}\r\n                  <Link\r\n                    to=\"/signup\"\r\n                    className=\"font-medium text-indigo-600 hover:text-indigo-500\"\r\n                  >\r\n                    Sign up\r\n                  </Link>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n"],"names":["LoginPage","isAuthenticated","handleOAuthVerification","useAuthStore","oauthMutation","useOAuthVerification","navigate","useNavigate","location","useLocation","message","setMessage","useState","useEffect","token","URLSearchParams","search","get","mutate","onSuccess","userData","toast","success","onError","error","concat","_location$state","state","_location$state2","_location$state2$from","from","pathname","_jsxs","className","children","_jsx","style","color","fontSize","onClick","handleGoogleLogin","window","href","process","disabled","isPending","viewBox","xmlns","transform","fill","d","Link","to"],"sourceRoot":""}