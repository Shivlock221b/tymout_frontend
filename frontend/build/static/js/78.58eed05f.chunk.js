"use strict";(self.webpackChunktymout_frontend=self.webpackChunktymout_frontend||[]).push([[78],{332:(e,s,t)=>{t.d(s,{hi:()=>n,xc:()=>l});var r=t(5038),a=t(7109),i=t(6485);const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.I)((0,r.A)({queryKey:["profile"],queryFn:i.A.getProfile,staleTime:3e5,cacheTime:6e5},e))},n=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,a.I)((0,r.A)({queryKey:["profile",e],queryFn:()=>i.A.getProfileById(e),staleTime:3e5,cacheTime:6e5,enabled:!!e},s))}},1506:(e,s,t)=>{t.d(s,{T:()=>i});var r=t(7109),a=t(2768);const i=e=>(0,r.I)({queryKey:["userHostedEvents",e],queryFn:async()=>{try{const s="http://localhost:3002";return(await a.A.get("".concat(s,"/events/host/").concat(e))).data.data||[]}catch(s){throw s}},enabled:!!e,staleTime:3e5,refetchOnWindowFocus:!1})},7078:(e,s,t)=>{t.r(s),t.d(s,{default:()=>m});var r=t(5038),a=(t(9643),t(7192)),i=t(2218),l=t(332),n=t(1506),d=t(8006),o=t(3018),c=t(5432),x=t(6507);const m=()=>{const{id:e}=(0,a.g)(),s=(0,a.Zp)(),t=(0,a.zy)(),{returnTo:m,itemTitle:h}=t.state||{},{data:g,isLoading:u,error:f,refetch:b}=(0,l.hi)(e),{data:p=[],isLoading:j,error:v}=(0,n.T)(e),N=()=>{s(m||-1)},y=(0,c.n)((e=>{var s;return null===(s=e.user)||void 0===s?void 0:s._id})),w=(0,c.n)((e=>e.logout));return u?(0,x.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,x.jsxs)("div",{className:"flex items-center mb-6",children:[(0,x.jsx)("button",{onClick:N,className:"mr-4 p-2 rounded-full hover:bg-gray-200 transition","aria-label":"Go back",children:(0,x.jsx)(i.QVr,{className:"text-gray-600"})}),(0,x.jsx)("h1",{className:"text-2xl font-bold",children:"User Profile"})]}),(0,x.jsx)(o.A,{type:"userProfile"})]}):f?(0,x.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,x.jsxs)("div",{className:"flex items-center mb-6",children:[(0,x.jsx)("button",{onClick:N,className:"mr-4 p-2 rounded-full hover:bg-gray-200 transition","aria-label":"Go back",children:(0,x.jsx)(i.QVr,{className:"text-gray-600"})}),(0,x.jsx)("h1",{className:"text-2xl font-bold",children:"User Profile"})]}),(0,x.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-6",children:[(0,x.jsx)("div",{className:"flex",children:(0,x.jsxs)("p",{className:"text-red-700",children:["Error loading profile: ",f.message||"Unable to load user data"]})}),(0,x.jsx)("button",{onClick:()=>b(),className:"mt-3 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Try Again"})]})]}):g?(0,x.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,x.jsxs)("button",{onClick:N,className:"flex items-center text-indigo-600 hover:text-indigo-800 mb-6 group",children:[(0,x.jsx)(i.QVr,{className:"mr-2 group-hover:-translate-x-1 transition-transform duration-200"}),(0,x.jsx)("span",{children:h?"Back to ".concat(h):"Back"})]}),(0,x.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[(0,x.jsx)("div",{className:"p-6",children:(0,x.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,x.jsx)("div",{className:"md:mr-8 mb-4 md:mb-0 flex-shrink-0",children:(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("img",{src:g.profileImage,alt:g.name,className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow",onError:e=>{e.target.onerror=null,e.target.src="https://via.placeholder.com/150?text=User"}}),g.verified&&(0,x.jsx)("div",{className:"absolute bottom-0 right-0 bg-indigo-600 text-white p-1 rounded-full",children:(0,x.jsx)(i.x$1,{className:"h-4 w-4"})})]})}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[(0,x.jsxs)("h1",{className:"text-2xl font-bold text-gray-800 mb-2 md:mb-0",children:[g.name,g.verified&&(0,x.jsx)("span",{className:"ml-2 text-indigo-600",children:"\u2713"})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[g.rating&&(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)(i.gt3,{className:"text-yellow-500 mr-1"}),(0,x.jsx)("span",{className:"font-medium",children:g.rating})]}),(0,x.jsxs)("div",{className:"text-sm text-gray-500",children:["Member since ",g.joined]})]})]}),g.location&&(0,x.jsxs)("div",{className:"flex items-center mb-3 text-gray-600",children:[(0,x.jsx)(i.vq8,{className:"mr-2 text-indigo-600"}),(0,x.jsx)("span",{children:g.location})]}),(0,x.jsx)("p",{className:"text-gray-600 mb-4",style:{whiteSpace:"pre-wrap"},children:g.bio}),g.interests&&g.interests.length>0&&(0,x.jsx)("div",{className:"mb-4",children:(0,x.jsx)("div",{className:"flex flex-wrap gap-2",children:g.interests.map(((e,s)=>(0,x.jsx)("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm",children:e},s)))})})]})]})}),(0,x.jsx)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:(0,x.jsx)("div",{className:"flex flex-wrap justify-start gap-4",children:y&&y===e&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("button",{onClick:()=>window.location.href="/settings",className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Edit Profile"}),(0,x.jsx)("button",{onClick:()=>s("/shop/manage"),className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Manage Shop"}),(0,x.jsx)("button",{onClick:()=>{w(),s("/")},className:"px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Sign Out"})]})})})]}),(0,x.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Events Hosted"}),j?(0,x.jsx)("div",{className:"text-center py-8",children:(0,x.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,x.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,x.jsx)("div",{className:"h-40 bg-gray-200 rounded w-full"}),(0,x.jsx)("div",{className:"h-40 bg-gray-200 rounded w-full"})]})})}):v?(0,x.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,x.jsx)(i.bfZ,{className:"mx-auto text-gray-300 text-4xl mb-3"}),(0,x.jsx)("p",{children:"Error loading events"})]}):0===p.length?(0,x.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,x.jsx)(i.bfZ,{className:"mx-auto text-gray-300 text-4xl mb-3"}),(0,x.jsx)("p",{children:"No events hosted yet"})]}):(0,x.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((e=>{const s=e.date&&e.date.start?new Date(e.date.start).toLocaleDateString():"Date not specified";return(0,x.jsx)("div",{className:"overflow-hidden",children:(0,x.jsx)(d.A,{item:(0,r.A)((0,r.A)({},e),{},{id:e._id||e.id,date:s}),type:"event",source:"profile",fullWidth:!0,variant:"explore",hideHeader:!0,disableNavigation:!0})},e._id||e.id)}))})]})})]}):(0,x.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,x.jsxs)("div",{className:"flex items-center mb-6",children:[(0,x.jsx)("button",{onClick:N,className:"mr-4 p-2 rounded-full hover:bg-gray-200 transition","aria-label":"Go back",children:(0,x.jsx)(i.QVr,{className:"text-gray-600"})}),(0,x.jsx)("h1",{className:"text-2xl font-bold",children:"User Profile"})]}),(0,x.jsxs)("div",{className:"text-center py-10",children:[(0,x.jsx)("p",{className:"text-xl text-gray-700",children:"User not found"}),(0,x.jsx)("button",{onClick:N,className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700",children:"Go Back"})]})]})}}}]);
//# sourceMappingURL=78.58eed05f.chunk.js.map